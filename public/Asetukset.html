<div class="sticky-header">
    <h1>Asetukset</h1>
    <hr>
</div>

<section>
    <div class="d-flex align-items-center justify-content-start gap-5 mb-4">
        <h5 class="m-0">Zoomaustaso:</h5>
        <div class="d-flex align-items-center">
            <div class="btn-group border" role="group" aria-label="Font size control">
                <button type="button" class="btn btn-sm ripple ripple-dark ripple-centered hover-glow"
                id="decrease">−</button>
                <div class="btn btn-sm" id="fontSizeDisplay" style="white-space: nowrap;">
                </div>
                <button type="button" class="btn btn-sm ripple ripple-dark ripple-centered hover-glow"
                id="increase">+</button>
                </div>
        </div>
    </div>
    
    <div class="container-fluid ms-0">
        <div class="row">
            <div class="col">
                <p style="max-width: unset;">
                    Lorem ipsum dolor sit amet.
                    Eos dolorum vero non facilis perspiciatis ad minima velit id accusantium ratione et dolorem pariatur.
                    Aut repellendus harum qui maxime alias quo fugiat fugit et laborum beatae ut minus itaque nam animi perferendis? Eum
                    impedit optio ut quia quia qui quia dignissimos non velit iure a numquam totam.
                    Sed provident earum vel officiis quisquam ut beatae accusamus ut incidunt maiores aut recusandae accusamus!
                </p>
                <p>
                    Sed expedita vitae est odio doloribus id porro velit vel facilis sint et enim quidem et commodi internos aut sunt
                    rerum.
                    Est quia veritatis et iure natus non reiciendis tempora.
                    Ad veritatis quae 33 incidunt blanditiis aut aspernatur animi et sapiente consequatur vel repellendus quasi rem
                    accusamus expedita et iure sunt.
                    Aut quod repellat est reiciendis odit est ipsa beatae.
                </p>
            </div>
        </div>
    </div>
</section>

<section>
    <h5>Muistin hallinta</h5>
    <button class="btn ripple ripple-dark hover-glow" onclick="localStorage.removeItem('grid-data'); location.reload();">
        Nollaa jakajat
    </button>

    <button class="btn ripple ripple-dark hover-glow" onclick="localStorage.removeItem('grid-template-rows'); localStorage.removeItem('grid-template-columns'); location.reload();">
        Tyhjennä vanhentuneet tiedot
    </button>
    
    <button class="btn btn-danger ripple ripple-dark hover-glow" onclick="localStorage.clear(); location.reload();">
        Tyhjennä muisti
    </button>
</section>

<!-- <label for="color-picker">Pick a color:</label>
<input type="color" id="color-picker" value="#ff0000"/> -->



<script>
    // Scoping is very important
    {
        const root = document.documentElement;
        const fontSize = window.getComputedStyle(root).getPropertyValue('--font-size').trim();

        const display = document.getElementById("fontSizeDisplay");
        const step = 0.1;
        let scale = localStorage.getItem('font-scale') || 1;
        const minscale = 0.5;
        const maxscale = 2.5;

        function updateFontSize() {
            scale = Math.max(minscale, Math.min(maxscale, scale));
            localStorage.setItem('font-scale', scale);

            document.documentElement.style.fontSize = `calc(${scale} * (${fontSize}))`;
            display.textContent = Math.round(scale * 100) + " %";
        }

        document.getElementById("increase").addEventListener("click", () => {
            scale += step;
            updateFontSize();
        });

        document.getElementById("decrease").addEventListener("click", () => {
            scale -= step;
            updateFontSize();
        });

        // Initial display
        updateFontSize();
    }
</script>